---
import MotionSection from '../components/MotionSection'
import ProjectGridItem from '../components/ProjectGridItem.astro'
import Page from '../layouts/page.astro'

const projects = (await Astro.glob('./project/**/*.md')).sort(
  (a: any, b: any) =>
    new Date(b.frontmatter.createdAt).valueOf() -
    new Date(a.frontmatter.createdAt).valueOf()
)
---

<Page
  title="Portfolio page"
  description="Carlos's portfolio page"
  heading="The following list includes personal, freelance and job projects."
  lang="en"
>
  {
    projects.map((project, idx) => (
      <MotionSection client:load delay={!idx ? 0.2 : idx / 2.5}>
        <ProjectGridItem project={project} />
      </MotionSection>
    ))
  }
</Page>
